 @model SignalR_StackOverflow.Models.AdminModel


@{
    ViewBag.Title = "Admin";
}

@using (Html.BeginForm())
{
    @Html.ValidationSummary(true)

    <fieldset>
        <legend>Notification</legend>

        <div class="editor-label">
            @*@Html.LabelFor(model => model.Message)*@
            @Html.TextBoxFor(model => model.Message)
        </div>

        <p>
            <input type="button" id="button1" value="Create" />
        </p>
    </fieldset>
}

@*@section Scripts
{
<script src="~/Scripts/jquery.signalR-2.2.0.js" type="text/javascript"></script>
<script src="~/signalr/hubs"></script>
<script type="text/javascript">
    $(function () {
        debugger;
        $.connection.hub.logging = true;
        var proxy = $.connection.adminHub;

        proxy.client.receiveNotification = function (message, UnreadCount) {
            debugger;
            $(".notification_count").html(UnreadCount);
            $(".notification_count").show();
        };

        $.connection.hub.start();

        $.connection.hub.start().done(function () {
            $('#button1').click(function () {
                proxy.server.broadcastNotifications($("#Message").val());
            });
        });
    });
</script>

}*@
